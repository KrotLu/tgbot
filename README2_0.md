## О шаблоне

**Структура:**

```
tgbot_template/
├── bot.py
├── tgbot/
│ ├── __init__.py
│ ├──── config.py
│ ├──── filters/
│ ├──── обработчики/
│ └── промежуточное оборудование/
```

- Пакет `tgbot` является корневым пакетом для бота, и он содержит подпакеты для **фильтров**, **хандлеров**,
  и **middlewares**.

- Пакет `filters` содержит классы, определяющие **настраиваемые фильтры** для обработчиков сообщений бота.

- Пакет `handlers` содержит классы, определяющие **обработчики сообщений бота**, которые определяют действия, которые необходимо предпринять
  в ответ на входящие сообщения.

- Пакет `middlewares` содержит классы, определяющие **настраиваемые промежуточные модули** для диспетчера бота, которые могут быть использованы для дополнительной обработки входящих сообщений.
  использовать для дополнительной обработки входящих сообщений.

Переведено с помощью www.DeepL.com/Translator (бесплатная версия)
1. Настройте ведение журнала: Модуль `logging` импортируется и настраивается для регистрации сообщений на консоли.
2. Загрузить конфигурацию: Функция `load_config()` из модуля `tgbot.config` вызывается для чтения конфигурации
   из окружения.
3. Настроить хранилище: В зависимости от флага `use_redis` в конфигурации, создается либо `MemoryStorage`, либо `RedisStorage2`.
   создается экземпляр для хранения состояния бота.
4. Создайте бота и диспетчера: Создается экземпляр `Bot` с использованием токена бота из конфигурации, а также экземпляр
   экземпляр `Dispatcher` создается с использованием экземпляра `Bot` и хранилища.
5. Зарегистрируйте промежуточные модули, фильтры и обработчики: Выполняются команды `register_all_middlewares()`, `register_all_filters()` и
   `register_all_handlers()` вызываются для регистрации всех промежуточных устройств, фильтров и обработчиков, которые используются ботом.
   ботом.
6. Запустите цикл опроса: Метод `start_polling()` экземпляра диспетчера вызывается для запуска основного цикла событий
   для бота. Этот метод прослушивает входящие сообщения и направляет их в соответствующий обработчик.

Переведено с помощью www.DeepL.com/Translator (бесплатная версия)